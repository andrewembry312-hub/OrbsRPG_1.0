<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Orb RPG - Module Diagnostic</title>
  <style>
    body { font-family: monospace; padding: 20px; background: #1e1e1e; color: #d4d4d4; }
    h1 { color: #4a9eff; }
    #output { background: #252526; padding: 15px; border-radius: 4px; max-height: 600px; overflow-y: auto; font-size: 13px; line-height: 1.5; }
    .success { color: #89d185; }
    .error { color: #f48771; }
    .info { color: #9cdcfe; }
    button { padding: 10px 20px; background: #4a9eff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; margin-top: 15px; }
    button:hover { background: #2a7edf; }
  </style>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><circle cx='16' cy='16' r='14' fill='%234a9eff'/></svg>">
</head>
<body>
  <h1>üîç Module Import Diagnostic</h1>
  <p>Testing which modules load successfully...</p>
  <div id="output"></div>
  <button onclick="location.href='index.html'">Back to Game</button>

  <script type="module">
    const output = document.getElementById('output');
    
    function log(msg, type = 'info') {
      const line = document.createElement('div');
      line.className = type;
      line.textContent = msg;
      output.appendChild(line);
      console.log(msg);
    }

    log('üîç Starting diagnostic...\n', 'info');

    const modules = [
      { name: 'util.js', path: './src/engine/util.js' },
      { name: 'constants.js', path: './src/game/constants.js' },
      { name: 'rarity.js', path: './src/game/rarity.js' },
      { name: 'progression.js', path: './src/game/progression.js' },
      { name: 'skills.js', path: './src/game/skills.js' },
      { name: 'world.js', path: './src/game/world.js' },
      { name: 'state.js', path: './src/game/state.js' },
      { name: 'charselect.js', path: './src/game/charselect.js' },
      { name: 'render.js', path: './src/game/render.js' },
      { name: 'ui.js', path: './src/game/ui.js' },
      { name: 'game.js', path: './src/game/game.js' },
    ];

    let passed = 0;
    let failed = 0;

    (async function() {
      for (const mod of modules) {
        try {
          log(`Testing ${mod.name}...`, 'info');
          await import(mod.path);
          log(`‚úì ${mod.name} loaded`, 'success');
          passed++;
        } catch (e) {
          log(`‚úó ${mod.name} FAILED: ${e.message}`, 'error');
          failed++;
        }
      }
      
      log(`\nüìä Results: ${passed} passed, ${failed} failed`, 'info');
      if (failed === 0) {
        log('‚úì All modules loaded! The app is ready.', 'success');
      }
    })();
  </script>
</body>
</html>
